# Unix-shell
Простой интерактивный unix shell на Python

**Поддержка команд:**
* `cd <path>`
* `ls [-l] <path...>`
* `mv [-r] <source...> <dest>`
* `cp [-r] <source...> <dest>`
* `rm [-r] [-y] <path...>`
* `cat <path...>`
* `grep [-r] [-i] <pattern> <path>`
* `zip [-r] <source...> <archive.zip>`
* `unzip <archive.zip> <dest>`
* `tar [-r] <source...> <archive.tar.gz>`
* `untar <archive.tar.gz> <folder>`
* `mkdir [-p] <path...>`
* `history <n>`
* `undo`
* `pwd`
* `whoami`
* `exit`

Удалённые файлы хранятся в `.trash`
История команд хранится в `.history`
Логи в `shell.log`

Команды поддерживают флаг `-h`, для вывода описания 

## Оглавление
- [Использование](#использование)
- [Архитектура Проекта](#архитектура-проекта)
- [Технологии](#технологии)

## Использование

### Установка
Проект использует `uv` для управления виртуальным окружением и `Makefile` для автоматизации команд.

**Требования:**
*   Python 3.13+
*   `make`
*   `uv` (устанавливается командой `pip install uv`)

**Установка зависимостей**
```bash
make install
```

### Запуск приложения

Приложение можно запустить как с помощью удобных команд `make`, так и напрямую через `uv`.

Через `Makefile`:
```bash
make run
```
Напрямую через `uv`:
```bash
uv run main.py
```

Для выхода из программы введите `exit`, `quit` или `Ctrl-D`.

## Архитектура Проекта
*   **`domain/` — Ядро бизнес-логики.**
    *   Определяет основные сущности: `Command`, `CommandContext`, `UndoRecord` 
*   **`usecase/` — Слой бизнес-сценариев.**
    *   Определяет интерфейсы (`interface.py`) для внешних зависимостей.
*   **`repository/` — Реализации интерфейсов.**
*   **`adapter/` — Взаимодействие с внешним миром.**
    *   Реализует интерфейс командной строки (`cli.py`). 
*   **`main.py` — Точка входа и сборка зависимостей.**

## Технологии 
*   **Инструменты:**
    *   **`uv`**: Для управления пакетами и виртуальным окружением.
    *   **`pytest`**: Для юнит-тестов. 
    *   **`ruff`**: Для линтинга и форматирования кода.
    *   **`mypy`**: Для статической проверки типов.
    *   **`make pre-commit`**: Вызывает ruff, mypy, pytest перед каждым коммитом (добавлен в git hook)
